{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Code/web/shopypal/webapp/app/auth/page.tsx"],"sourcesContent":["'use client';\nimport Link from \"next/link\";\nimport '@/styles/pages/auth.scss';\nimport {redirect} from \"next/navigation\";\nimport {useEffect, useState} from \"react\";\n\nexport default function AuthPage() {\n\n    const [status, setStatus] = useState('');\n\n    const handleSubmit = async (e: any) => {\n        e.preventDefault();\n        const email = e.target.email.value;\n        const password = e.target.password.value;\n\n        try {\n            const response = await fetch('/api/auth/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({email, password})\n            });\n\n            const data = await response.json();\n           switch (response.status) {\n                case 200:\n                    window.location.href = `/user/${data.message}`;\n                    break;\n                case 404:\n                    setStatus('User not found');\n                    break;\n                case 403:\n                    setStatus('Invalid password');\n                    break;\n           }\n        } catch (error) {\n            console.error('Server error');\n        }\n    }\n\n    useEffect(() => {\n        setTimeout(() => {\n            setStatus('');\n        }, 2500);\n    }, [status]);\n\n    return (\n        <div className={\"auth-form\"}>\n            <form className={'form'} onSubmit={handleSubmit} autoComplete={'on'} itemRef=\"http://schema.org/LoginAction\">\n                <h1>Login</h1>\n                <h6>Don't have an account ? <br/><Link href={'/auth/register'}>Register</Link></h6>\n                <div className={'form_field'}>\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\" id=\"email\" autoComplete={\"email webauthn\"} required/>\n                </div>\n                <div className={'form_field'}>\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" id=\"password\" autoComplete={\"current-password\"} required/>\n                </div>\n                <div className={'form_status'}>\n                    <span>{status}</span>\n                </div>\n                <button type=\"submit\">Login</button>\n            </form>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;AACA;AAGA;;;AAJA;;;;AAMe,SAAS;;IAEpB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK;QAClC,MAAM,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;QAExC,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC5C,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAC;oBAAO;gBAAQ;YACzC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YACjC,OAAQ,SAAS,MAAM;gBAClB,KAAK;oBACD,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,MAAM,EAAE,KAAK,OAAO,EAAE;oBAC9C;gBACJ,KAAK;oBACD,UAAU;oBACV;gBACJ,KAAK;oBACD,UAAU;oBACV;YACT;QACH,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;QAClB;IACJ;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACN;sCAAW;oBACP,UAAU;gBACd;qCAAG;QACP;6BAAG;QAAC;KAAO;IAEX,qBACI,6LAAC;QAAI,WAAW;kBACZ,cAAA,6LAAC;YAAK,WAAW;YAAQ,UAAU;YAAc,cAAc;YAAM,SAAQ;;8BACzE,6LAAC;8BAAG;;;;;;8BACJ,6LAAC;;wBAAG;sCAAwB,6LAAC;;;;;sCAAI,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAM;sCAAkB;;;;;;;;;;;;8BAC/D,6LAAC;oBAAI,WAAW;;sCACZ,6LAAC;4BAAM,SAAQ;sCAAQ;;;;;;sCACvB,6LAAC;4BAAM,MAAK;4BAAQ,MAAK;4BAAQ,IAAG;4BAAQ,cAAc;4BAAkB,QAAQ;;;;;;;;;;;;8BAExF,6LAAC;oBAAI,WAAW;;sCACZ,6LAAC;4BAAM,SAAQ;sCAAW;;;;;;sCAC1B,6LAAC;4BAAM,MAAK;4BAAW,MAAK;4BAAW,IAAG;4BAAW,cAAc;4BAAoB,QAAQ;;;;;;;;;;;;8BAEnG,6LAAC;oBAAI,WAAW;8BACZ,cAAA,6LAAC;kCAAM;;;;;;;;;;;8BAEX,6LAAC;oBAAO,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAItC;GA7DwB;KAAA"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}